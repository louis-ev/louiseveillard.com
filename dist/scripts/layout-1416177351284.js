(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
window.articleMarginTop=0,window.bodyHeight;var tablet_max=1024,init_pjs=1024,articleVu="",$viewport=$("html, body"),imgActuelle=0,newArticleVu=$("article.article").first(),gotoByScroll,adjustHeight,articleProche,activeArticle,detectArticle,restartDetectArticle,siteIsLoaded=!1,canvasConnexe={init:function(){var t=$(".cnx canvas");t.attr("data-processing-sources","scripts/balls.pde"),t.css("visibility","visible");var i=t.attr("data-processing-sources");if(void 0!==i){var e=i.split(/\s+/);Processing.loadSketchFromSources("balls",e)}$("canvas#balls").hover(function(){Processing.getInstanceById("balls").loop()},function(){Processing.getInstanceById("balls").noLoop()})},resize:function(){void 0!==$(".cnx canvas").attr("data-processing-sources")&&Processing.getInstanceById("balls").updateSize($(".cnx.article .imgfond").width())},placeholder:function(){var t=$(".cnx canvas");t.find("img").unwrap()}},canvasCV={init:function(){function t(t){t.setup=function(){t.noLoop(),t.background(0,0),t.noSmooth()},t.draw=function(){},t.drawLink=function(i,e,o,n){t.noFill(),t.strokeWeight(1);for(var a=0;1>a;a++){var s=t.random(),c=(t.color(255,39,25),t.color(9,96,111),t.color(125,193,200)),r=t.map(s,0,2,-20,-10);t.stroke(c),t.bezier(i,e,(i+o)/2+r,(e+n)/2,(i+o)/2+r,(e+n)/2,o,n)}},t.drawBg=function(){t.fill(34,34,34,180),t.noStroke(),t.rect(0,0,t.width,t.height)},t.updateSize=function(i,e){t.size(i,e)}}var i=$("body").prepend("<canvas id='links' width='1024' height='1551' class=''>");i.css("visibility","visible");{var e=document.getElementById("links");new Processing(e,t)}$("#navbar a").on("mouseover",function(){$this=$(this),thisLink=$this.attr("data-link");var t=Processing.getInstanceById("links");t.drawBg(),$("body").hasClass("navbarouverte")&&void 0!==thisLink&&void 0!==thisLink&&canvasCV.drawAllLinks($this,thisLink)})},drawAllLinks:function(t,i){var e=($("#navbar").offset().left,$("#navbar").offset().top,Processing.getInstanceById("links")),o=$("#navbar").find("a[data-link='"+i+"']").not(t);o.length>0&&o.each(function(){$thisLinkTo=$(this),console.log("LINK $this :"+t.text()+" $linkTo : "+$thisLinkTo.text()),t.closest(".content").hasClass("realisations")===!0?(thisPosLeft=t.offset().left-10,thisPosTop=t.offset().top+t.height()/2+2):(thisPosLeft=t.offset().left,thisPosTop=t.offset().top+t.height()+1),$thisLinkTo.closest(".content").hasClass("realisations")===!0?(linkPosLeft=$thisLinkTo.offset().left-10,linkPosTop=$thisLinkTo.offset().top+$thisLinkTo.height()/2+2):(linkPosLeft=$thisLinkTo.offset().left,linkPosTop=$thisLinkTo.offset().top+$thisLinkTo.height()+1),e.drawLink(thisPosLeft,thisPosTop,linkPosLeft,linkPosTop)})},resize:function(){var t=Processing.getInstanceById("links");t.updateSize($("body").width(),$("#navbar").height()),setTimeout(function(){},500)},loopMeUp:function(){}},navPage={imageSuiv:function(){var t=$("picture").eq(imgActuelle);$viewport.animate({scrollTop:t.offset().top},300,"easeInOutQuint",function(){}),imgActuelle++},imagePrec:function(){if(imgActuelle>0){imgActuelle--;var t=$("picture").eq(imgActuelle);$viewport.animate({scrollTop:t.offset().top},300,"easeInOutQuint",function(){})}else $viewport.animate({scrollTop:0},300,"easeInOutQuint",function(){})},projetSuiv:function(){if(""!==window.location.hash&&"#"!==window.location.hash){var t=window.location.hash.substr(1),i=$("article").index($("article[data-id="+t+"]"));gotoByScroll($("article").eq(i+1).attr("data-id"))}else gotoByScroll($("article").eq(1).attr("data-id"))},projetPrec:function(){if(""!==window.location.hash&&"#"!==window.location.hash){var t=window.location.hash.substr(1),i=$("article").index($("article[data-id="+t+"]"));gotoByScroll($("article").eq(i-1).attr("data-id"))}else gotoByScroll($("article").eq(0).attr("data-id"))}},CV={open:function(){$("#cv .status-witness").addClass("open"),$("#cv .collapsable").each(function(){$this=$(this),$this.removeClass("is-collapsed")}),$(window).width()>tablet_max&&($("main").css("opacity","0"),$("main").css("marginTop","1280px"),waitForFinalEvent(function(){$("main").css("display","none"),$viewport.animate({scrollTop:0},0,"easeInOutQuint",function(){}),$("body").addClass("navbarouverte"),canvasCV.resize()},400,"removeAndRelative"))},close:function(){$("#cv .status-witness").removeClass("open"),$("#cv .collapsable").each(function(){$this=$(this),$this.addClass("is-collapsed")}),$("main").css("display","block"),$("main").css("marginTop","0px"),$(window).width()>tablet_max&&$viewport.animate({scrollTop:0},200,"easeInOutQuint",function(){}),$("body").removeClass("navbarouverte"),waitForFinalEvent(function(){adjustHeight(),$("main").css("opacity","1")},1200,"readjustheight")}},loadSite=function(){siteIsLoaded||(siteIsLoaded=!0,$(window).width()>1024&&($("body").removeClass("loading"),adjustHeight(),articleVu=activeArticle(window.pageYOffset+articleMarginTop),articleVu.removeClass("peripherie")))},waitForFinalEvent=function(){var t={};return function(i,e,o){o||(o="Don't call this twice without a uniqueId"),t[o]&&clearTimeout(t[o]),t[o]=setTimeout(i,e)}}(),adjustHeight=function(){if($(window).width()>tablet_max){var t=$("#navbar").height()+40;$(".article").css("marginTop",t+"px"),window.articleMarginTop=t}};gotoByScroll=function(t){var i=$(".article").filter(function(){return $(this).attr("data-id").match(t)});adjustHeight(),$(window).width()<=tablet_max&&(window.articleMarginTop=0),$viewport.animate({scrollTop:i.offset().top-window.articleMarginTop},900,"easeInOutQuint")},activeLien=function(t){console.log(t),$(".lienProjets a").removeClass("active").filter(function(){return $(this).data("projet")===t}).addClass("active")},articleProche=function(t){var i,e,o=0,n=1e10,a=$("article.article");return a.each(function(i){o=Math.abs(t-this.offsetTop),n>o&&(n=o,e=i),o=Math.abs(t-(this.offsetTop+this.offsetHeight)),n>o&&(n=o,e=i)}),i=a.eq(e)};var backToTop={init:function(){if($(window).width()>tablet_max){var t=$("article.article .row:first-child").offset().left;$("article.article").each(function(){var i=$(this).find(".titreProj");i.removeClass().addClass("titreProj"),i.data("projet",$(this).find(".anchorLink").data("projet"));var e=$(this).data("id"),o=$(".lienProjets a").filter(function(){return $(this).data("projet")===e}).parent(".column");if(o.length>0){var n=o.offset().left-t,a=o.outerWidth();i.find(".boiteProj").css({left:n,width:a})}})}else $("article.article").each(function(){var t=$(this).find(".titreProj");t.removeClass().addClass("titreProj col-md-2")})},recalc:function(t,i){var e=$(i),o=t-e.offset().top;$(window).width()>tablet_max?0>=o||o>=e.height()-80?(e.find(".backtotopicon").removeClass("sticky"),e.find(".titreProj").removeClass("sticky")):($(".backtotopicon").removeClass("sticky"),e.find(".backtotopicon").addClass("sticky"),e.find(".titreProj").addClass("sticky")):t<$(window).height()?$("#backtotopglobal").css("opacity","0"):$("#backtotopglobal").css("opacity","1")}};detectArticle=function(){console.log("detectArticle"),restartDetectArticle=setTimeout(function(){activeArticle(window.pageYOffset),detectArticle()},1e3)},activeArticle=function(t){if(newArticleVu=articleProche(t+articleMarginTop),newArticleVu.hasClass("peripherie")){$("article.article").addClass("peripherie"),newArticleVu.removeClass("peripherie"),articleVu=newArticleVu,$(window).width()>1024&&articleVu.find("picture:not(.video)").picture({container:".imgfond",inlineDimensions:!0,forceSmall:!1});var i=articleVu.attr("data-id");if(void 0===i)return;window.location.hash=i,activeLien(i)}return newArticleVu},function(){if($(".article").each(function(){var t=$(this),i=t.attr("id");t.attr("data-id",i).attr("id","")}),$(window).width()>init_pjs){var t="//cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.1/processing.min.js",i=document.createElement("script");i.src=t,i.onload=function(){canvasConnexe.init(),canvasCV.init()};var e=document.getElementsByTagName("head")[0];e.appendChild(i)}else canvasConnexe.placeholder()}(),$(document).ready(function(){adjustHeight(),backToTop.init(),setTimeout(function(){loadSite()},1e4),$(".article").each(function(){$this=$(this),$this.find("picture").each(function(t){$(this).css("z-index",50-t)})}),$(window).width()>1024&&$(window).on("scrollstart",function(){return $viewport.is(":animated")?void console.log("animated"):($(window).width()>tablet_max&&$("body").addClass("scrolling"),void detectArticle())}),$(window).on("scroll",function(){backToTop.recalc(window.pageYOffset,newArticleVu)}),$(window).width()>1024&&$(window).on("scrollstop",function(){$("body").removeClass("scrolling"),adjustHeight(),clearTimeout(restartDetectArticle),backToTop.init(),backToTop.recalc(window.pageYOffset,activeArticle(window.pageYOffset))}),$(window).resize(function(){waitForFinalEvent(function(){adjustHeight(),backToTop.init(),canvasConnexe.resize(),canvasCV.resize(),activeArticle(window.pageYOffset)},500,"resize")}),$(document).bind("keydown","down",function(){return navPage.imageSuiv(),!1}),$(document).bind("keydown","up",function(){return navPage.imagePrec(),!1}),$(document).bind("keydown","right",function(){return navPage.projetSuiv(),!1}),$(document).bind("keydown","left",function(){return navPage.projetPrec(),!1}),$(document).bind("keydown","alt",function(){$("body").toggleClass("jour")}),$("article.article").addClass("peripherie"),articleVu=articleProche(window.pageYOffset+articleMarginTop),$viewport.bind("scroll mousedown DOMMouseScroll mousewheel",function(t){(t.which>0||"mousedown"===t.type||"mousewheel"===t.type)&&$viewport.stop()}),$(".lienProjets a:not(.disabled), .backtotop a, .titreProj").click(function(t){t.preventDefault();var i=$(this).data("projet");gotoByScroll(i),console.log("scroll vers : "+i)}),$(".lienProjets a:not(.disabled)").mousedown(function(){$(this).addClass("pushed")}).mouseup(function(){$(this).removeClass("pushed")}).mouseout(function(){$(this).removeClass("pushed")}),$("#backtotopglobal>a").click(function(t){t.preventDefault(),$viewport.animate({scrollTop:0},900,"easeInOutQuint")}),$("#cv .header").click(function(){var t=$("#cv .status-witness").hasClass("open");t?CV.close():CV.open()})}),$(window).load(function(){setTimeout(function(){loadSite(),CV.open()},550)});
},{}]},{},[1])